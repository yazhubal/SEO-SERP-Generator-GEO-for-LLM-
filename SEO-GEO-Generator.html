<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced SEO & GEO Prompt Canvas</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .glass-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(226, 232, 240, 0.8);
        }
        .animate-fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- UI Labels (Always English) ---
        const UI_LABELS = {
            topic: "Topic / Main Keyword",
            keywords: "Secondary Keywords (LSI)",
            audience: "Target Audience",
            competitors: "Main Competitors",
            tone: "Brand Tone",
            geo: "Enable GEO (AI Search Optimization)",
            schema: "Include Schema Markup (JSON-LD)",
            meta: "Generate Meta Title & Description",
            serp: "Generate SERP Preview Text",
            copy: "Copy Prompt",
            langTitle: "Output Language"
        };

        // --- Prompt Templates (Target Languages) ---
        const PROMPT_TEMPLATES = {
            en: {
                role: "Act as an expert SEO Specialist and Generative Engine Optimization (GEO) strategist.",
                task: "Your task is to generate optimized meta data, SERP snippets, and a content structure.",
                context: "I need to rank for the following topic and keywords.",
                geo_instruction: "Focus on 'Answer Engine Optimization'. Create concise, factual definitions (40-60 words) for key entities to be picked up by AI overviews.",
                tone_instruction: "Write in the following tone:",
                audience_instruction: "Target Audience:",
                lang_instruction: "IMPORTANT: Write all outputs strictly in English.",
                format: "Output Format:",
                lbl_topic: "Topic",
                lbl_keywords: "Keywords",
                lbl_audience: "Audience",
                lbl_competitors: "Competitors"
            },
            de: {
                role: "Handeln Sie als erfahrener SEO-Spezialist und Stratege für Generative Engine Optimization (GEO).",
                task: "Ihre Aufgabe ist es, optimierte Metadaten, SERP-Snippets und eine Inhaltsstruktur zu erstellen.",
                context: "Ich muss für das folgende Thema und die folgenden Keywords ranken.",
                geo_instruction: "Konzentrieren Sie sich auf 'Answer Engine Optimization'. Erstellen Sie prägnante, faktische Definitionen (40-60 Wörter) für Schlüsselbegriffe, um von KI-Overviews erfasst zu werden.",
                tone_instruction: "Schreiben Sie in folgendem Tonfall:",
                audience_instruction: "Zielgruppe:",
                lang_instruction: "WICHTIG: Schreiben Sie alle Ausgaben strikt auf Deutsch.",
                format: "Ausgabeformat:",
                lbl_topic: "Thema",
                lbl_keywords: "Keywords",
                lbl_audience: "Zielgruppe",
                lbl_competitors: "Wettbewerber"
            },
            fr: {
                role: "Agissez en tant que spécialiste SEO expert et stratège en optimisation pour les moteurs génératifs (GEO).",
                task: "Votre tâche consiste à générer des métadonnées optimisées, des extraits SERP et une structure de contenu.",
                context: "Je dois me classer pour le sujet et les mots-clés suivants.",
                geo_instruction: "Concentrez-vous sur l'optimisation pour les moteurs de réponse. Créez des définitions factuelles et concises (40-60 mots) pour les entités clés afin d'être repéré par les aperçus IA.",
                tone_instruction: "Écrivez avec le ton suivant :",
                audience_instruction: "Public cible :",
                lang_instruction: "IMPORTANT : Rédigez toutes les réponses strictement en Français.",
                format: "Format de sortie :",
                lbl_topic: "Sujet",
                lbl_keywords: "Mots-clés",
                lbl_audience: "Public",
                lbl_competitors: "Concurrents"
            },
            es: {
                role: "Actúa como un especialista experto en SEO y estratega de Optimización de Motores Generativos (GEO).",
                task: "Tu tarea es generar metadatos optimizados, fragmentos de SERP y una estructura de contenido.",
                context: "Necesito posicionarme para el siguiente tema y palabras clave.",
                geo_instruction: "Céntrate en la 'Optimización de Motores de Respuesta'. Crea definiciones concisas y fácticas (40-60 palabras) para entidades clave para ser captado por los resúmenes de IA.",
                tone_instruction: "Escribe con el siguiente tono:",
                audience_instruction: "Público objetivo:",
                lang_instruction: "IMPORTANTE: Escribe todas las salidas estrictamente en Español.",
                format: "Formato de salida:",
                lbl_topic: "Tema",
                lbl_keywords: "Palabras clave",
                lbl_audience: "Audiencia",
                lbl_competitors: "Competidores"
            },
            it: {
                role: "Agisci come esperto specialista SEO e stratega di Generative Engine Optimization (GEO).",
                task: "Il tuo compito è generare metadati ottimizzati, snippet SERP e una struttura dei contenuti.",
                context: "Devo posizionarmi per il seguente argomento e parole chiave.",
                geo_instruction: "Concentrati sulla 'Answer Engine Optimization'. Crea definizioni concise e fattuali (40-60 parole) per le entità chiave per essere rilevato dalle panoramiche AI.",
                tone_instruction: "Scrivi con il seguente tono:",
                audience_instruction: "Target di riferimento:",
                lang_instruction: "IMPORTANTE: Scrivi tutti gli output rigorosamente in Italiano.",
                format: "Formato di output:",
                lbl_topic: "Argomento",
                lbl_keywords: "Parole chiave",
                lbl_audience: "Target",
                lbl_competitors: "Concorrenti"
            },
            pl: {
                role: "Działaj jako ekspert SEO i strateg Generative Engine Optimization (GEO).",
                task: "Twoim zadaniem jest wygenerowanie zoptymalizowanych metadanych, fragmentów SERP i struktury treści.",
                context: "Muszę uzyskać ranking dla następującego tematu i słów kluczowych.",
                geo_instruction: "Skup się na 'Answer Engine Optimization'. Twórz zwięzłe, rzeczowe definicje (40-60 słów) dla kluczowych podmiotów, aby zostały wychwycone przez podsumowania AI.",
                tone_instruction: "Pisz w następującym tonie:",
                audience_instruction: "Grupa docelowa:",
                lang_instruction: "WAŻNE: Pisz wszystkie wyniki ściśle w języku polskim.",
                format: "Format wyjściowy:",
                lbl_topic: "Temat",
                lbl_keywords: "Słowa kluczowe",
                lbl_audience: "Odbiorcy",
                lbl_competitors: "Konkurencja"
            }
        };

        const App = () => {
            const [outputLang, setOutputLang] = useState('en');
            const [inputs, setInputs] = useState({
                topic: '',
                keywords: '',
                audience: '',
                competitors: '',
                tone: 'Professional, Authoritative, yet Accessible',
                enableGEO: true,
                enableSchema: true,
                enableMeta: true,
                enableSerp: true
            });
            const [generatedPrompt, setGeneratedPrompt] = useState('');
            const [copySuccess, setCopySuccess] = useState(false);

            // Update Prompt whenever inputs or language change
            useEffect(() => {
                buildPrompt();
            }, [inputs, outputLang]);

            const handleInputChange = (e) => {
                const { name, value, type, checked } = e.target;
                setInputs(prev => ({
                    ...prev,
                    [name]: type === 'checkbox' ? checked : value
                }));
            };

            const buildPrompt = () => {
                const { topic, keywords, audience, competitors, tone, enableGEO, enableSchema, enableMeta, enableSerp } = inputs;
                const tmpl = PROMPT_TEMPLATES[outputLang];
                
                // Use English placeholder if empty, but user inputs are preserved
                const _topic = topic || "[TOPIC]";
                const _keywords = keywords || "[KEYWORDS]";
                
                let promptParts = [];

                // 1. Role & Core Task (Translated)
                promptParts.push(`### ROLE\n${tmpl.role}\n${tmpl.lang_instruction}\n`);

                // 2. Context / Data Inputs
                promptParts.push(`### CONTEXT\n${tmpl.context}`);
                promptParts.push(`- ${tmpl.lbl_topic}: ${_topic}`);
                if (keywords) promptParts.push(`- ${tmpl.lbl_keywords}: ${_keywords}`);
                if (audience) promptParts.push(`- ${tmpl.audience_instruction} ${audience}`);
                if (competitors) promptParts.push(`- ${tmpl.lbl_competitors}: ${competitors}`);
                if (tone) promptParts.push(`- ${tmpl.tone_instruction} ${tone}`);
                
                // 3. GEO Specifics
                if (enableGEO) {
                    promptParts.push(`\n### GEO (GENERATIVE ENGINE OPTIMIZATION) STRATEGY\n${tmpl.geo_instruction}`);
                    promptParts.push("- Ensure the content is structured with clear H2/H3 questions that mimic user queries.");
                    promptParts.push("- Prioritize direct answers in the first sentence of each section.");
                    promptParts.push("- Cite credible sources or statistics where possible to increase authority.");
                }

                // 4. Output Requirements (Kept largely in English for structure, but headers translated if feasible, keeping simple for now)
                promptParts.push(`\n### TASK & OUTPUTS`);
                
                if (enableMeta) {
                    promptParts.push(`1. **Meta Data**: Generate 3 variations of Page Titles (max 60 chars) and Meta Descriptions (max 155 chars). Ensure they are click-worthy and keyword-rich.`);
                }
                
                if (enableSerp) {
                    promptParts.push(`2. **SERP Snippet Optimization**: Write a paragraph (40-50 words) specifically designed to win a Featured Snippet (Position Zero) for the main keyword.`);
                }

                if (enableSchema) {
                    promptParts.push(`3. **Schema Markup**: Provide valid JSON-LD code for 'Article' or 'FAQPage' schema relevant to this topic.`);
                }

                // 5. Final Formatting
                promptParts.push(`\n${tmpl.format}`);
                promptParts.push("- Use Markdown.");
                promptParts.push("- Be concise and eliminate fluff.");
                if(outputLang !== 'en') promptParts.push(`- ${tmpl.lang_instruction}`); // Re-iterate language constraint at end

                setGeneratedPrompt(promptParts.join('\n'));
            };

            const copyToClipboard = () => {
                const textArea = document.createElement("textarea");
                textArea.value = generatedPrompt;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                setCopySuccess(true);
                setTimeout(() => setCopySuccess(false), 2000);
            };

            return (
                <div className="min-h-screen p-4 md:p-8 flex flex-col items-center justify-center">
                    
                    <div className="max-w-7xl w-full grid grid-cols-1 lg:grid-cols-2 gap-8">
                        
                        {/* LEFT COLUMN - INPUTS */}
                        <div className="glass-panel rounded-2xl shadow-xl p-6 md:p-8 animate-fade-in flex flex-col gap-6">
                            <div className="border-b border-gray-200 pb-4 mb-2">
                                <h1 className="text-3xl font-bold text-slate-800 flex items-center gap-3">
                                    <i className="fa-solid fa-layer-group text-blue-600"></i>
                                    Prompt Canvas
                                </h1>
                                <p className="text-slate-500 mt-2">Configure your advanced SEO/GEO prompt.</p>
                            </div>

                            {/* Language Selector */}
                            <div>
                                <label className="block text-xs font-bold text-slate-400 uppercase tracking-wider mb-2">{UI_LABELS.langTitle}</label>
                                <div className="flex flex-wrap gap-2">
                                    {['en', 'de', 'fr', 'es', 'pl', 'it'].map((lang) => (
                                        <button
                                            key={lang}
                                            onClick={() => setOutputLang(lang)}
                                            className={`px-4 py-2 rounded-lg font-medium transition-all ${
                                                outputLang === lang 
                                                ? 'bg-blue-600 text-white shadow-md transform scale-105' 
                                                : 'bg-white text-slate-600 border border-gray-200 hover:bg-gray-50'
                                            }`}
                                        >
                                            {lang.toUpperCase()}
                                        </button>
                                    ))}
                                </div>
                            </div>

                            {/* Form Fields - LABELS ARE FIXED TO ENGLISH via UI_LABELS */}
                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-semibold text-slate-700 mb-1">{UI_LABELS.topic}</label>
                                    <input 
                                        type="text" 
                                        name="topic"
                                        value={inputs.topic}
                                        onChange={handleInputChange}
                                        placeholder="e.g. Best Hiking Boots 2024"
                                        className="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all"
                                    />
                                </div>

                                <div>
                                    <label className="block text-sm font-semibold text-slate-700 mb-1">{UI_LABELS.keywords}</label>
                                    <textarea 
                                        name="keywords"
                                        value={inputs.keywords}
                                        onChange={handleInputChange}
                                        placeholder="e.g. waterproof boots, lightweight hiking shoes, ankle support"
                                        className="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all h-24 resize-none"
                                    />
                                </div>

                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-1">{UI_LABELS.audience}</label>
                                        <input 
                                            type="text" 
                                            name="audience"
                                            value={inputs.audience}
                                            onChange={handleInputChange}
                                            placeholder="e.g. Beginners, Pro Hikers"
                                            className="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"
                                        />
                                    </div>
                                    <div>
                                        <label className="block text-sm font-semibold text-slate-700 mb-1">{UI_LABELS.competitors}</label>
                                        <input 
                                            type="text" 
                                            name="competitors"
                                            value={inputs.competitors}
                                            onChange={handleInputChange}
                                            placeholder="e.g. REI, OutdoorGearLab"
                                            className="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"
                                        />
                                    </div>
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-semibold text-slate-700 mb-1">{UI_LABELS.tone}</label>
                                    <input 
                                        type="text" 
                                        name="tone"
                                        value={inputs.tone}
                                        onChange={handleInputChange}
                                        className="w-full p-3 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 outline-none"
                                    />
                                </div>
                            </div>

                            {/* Toggles */}
                            <div className="bg-slate-50 p-4 rounded-xl space-y-3 border border-slate-100">
                                <label className="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="enableGEO" checked={inputs.enableGEO} onChange={handleInputChange} className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" />
                                    <span className="text-slate-700 font-medium">{UI_LABELS.geo}</span>
                                </label>
                                <label className="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="enableMeta" checked={inputs.enableMeta} onChange={handleInputChange} className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" />
                                    <span className="text-slate-700 font-medium">{UI_LABELS.meta}</span>
                                </label>
                                <label className="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="enableSerp" checked={inputs.enableSerp} onChange={handleInputChange} className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" />
                                    <span className="text-slate-700 font-medium">{UI_LABELS.serp}</span>
                                </label>
                                <label className="flex items-center space-x-3 cursor-pointer">
                                    <input type="checkbox" name="enableSchema" checked={inputs.enableSchema} onChange={handleInputChange} className="w-5 h-5 text-blue-600 rounded focus:ring-blue-500" />
                                    <span className="text-slate-700 font-medium">{UI_LABELS.schema}</span>
                                </label>
                            </div>

                        </div>

                        {/* RIGHT COLUMN - PREVIEW */}
                        <div className="flex flex-col h-full gap-4">
                             <div className="glass-panel rounded-2xl shadow-xl p-1 flex-grow flex flex-col relative overflow-hidden h-[600px] lg:h-auto">
                                <div className="absolute top-0 left-0 right-0 bg-gradient-to-b from-white via-white to-transparent p-4 z-10 border-b border-gray-100 flex justify-between items-center">
                                    <span className="text-xs font-bold tracking-wider text-slate-400 uppercase">Generated Prompt Preview</span>
                                    <div className="flex items-center gap-2">
                                        <div className={`w-2 h-2 rounded-full ${inputs.topic ? 'bg-green-500' : 'bg-orange-400 animate-pulse'}`}></div>
                                        <span className="text-xs text-slate-400">{inputs.topic ? 'Ready to copy' : 'Waiting for input...'}</span>
                                    </div>
                                </div>
                                <div className="flex-grow overflow-auto p-6 pt-16 bg-slate-900 text-slate-300 font-mono text-sm leading-relaxed whitespace-pre-wrap">
                                    {generatedPrompt}
                                </div>
                                <div className="p-4 bg-white border-t border-gray-100 flex justify-end">
                                    <button 
                                        onClick={copyToClipboard}
                                        className={`flex items-center gap-2 px-6 py-3 rounded-lg font-bold text-white transition-all shadow-lg ${
                                            copySuccess 
                                            ? 'bg-green-500 hover:bg-green-600 translate-y-0' 
                                            : 'bg-blue-600 hover:bg-blue-700 hover:-translate-y-1'
                                        }`}
                                    >
                                        {copySuccess ? (
                                            <>
                                                <i className="fa-solid fa-check"></i>
                                                Copied!
                                            </>
                                        ) : (
                                            <>
                                                <i className="fa-regular fa-copy"></i>
                                                {UI_LABELS.copy}
                                            </>
                                        )}
                                    </button>
                                </div>
                             </div>
                             
                             {/* Tip Card */}
                             <div className="bg-blue-50 border border-blue-100 rounded-xl p-4 flex gap-4 items-start">
                                <div className="bg-blue-100 p-2 rounded-lg text-blue-600">
                                    <i className="fa-solid fa-lightbulb"></i>
                                </div>
                                <div>
                                    <h4 className="font-bold text-blue-900 text-sm">Pro Tip for GEO</h4>
                                    <p className="text-blue-800 text-xs mt-1">
                                        GEO (Generative Engine Optimization) relies on "citation authority." Fill in the <strong>{UI_LABELS.competitors}</strong> field so the AI can analyze what they are missing and help you fill those gaps.
                                    </p>
                                </div>
                             </div>
                        </div>

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
